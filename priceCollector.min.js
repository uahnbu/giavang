const priceData=[];(async(e,a,t,i,r,l)=>{(e=document).body.innerHTML="",e.body.style.margin=0,a=e.createElement("script"),await new Promise(t=>{a.onload=t,a.src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js",e.body.appendChild(a)}),(a=e.createElement("canvas")).width=window.innerWidth,a.height=window.innerHeight,e.body.appendChild(a);const n=new Chart(a,{type:"line",data:{datasets:[{label:"Mua vào",backgroundColor:"rgba(41,128,185,.2)",borderColor:"rgb(41,128,185)"},{label:"Bán ra",backgroundColor:"rgba(142,68,173,.2)",borderColor:"rgb(142,68,173)"}]},options:{responsive:!1,title:{display:!0,text:"Lịch sử giá vàng"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Ngày"}}],yAxes:[{scaleLabel:{display:!0,labelString:"Giá"},ticks:{callback:e=>e+",000"}}]},elements:{point:{radius:2}}}});for(a=1;a<=200;a++){for(r of(t=new Date(Date.now()-864e5*a).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"),(i=e.createElement("div")).innerHTML=await(await fetch("https://tygiadola.com/LichSuGiaVang?date="+t)).text(),[...i.querySelectorAll("table tr")]))if((l=r.querySelector("td"))&&"SJC HCM 1-10L"===l.innerText.trim()){l=r;break}if(!l)break;[i,r]=[...l.querySelectorAll("td")].map(e=>+e.innerText.trim().slice(0,6).replace(",",".")).slice(1),t=t.slice(0,6)+t.slice(8),priceData.unshift({c:t,d:i,e:r}),n.data.labels.unshift(t),n.data.datasets[0].data.unshift(i),n.data.datasets[1].data.unshift(r),n.update()}})();
